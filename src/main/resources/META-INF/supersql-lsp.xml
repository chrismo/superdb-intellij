<!-- LSP4IJ extensions for SuperSQL Language Server support -->
<idea-plugin>
    <extensions defaultExtensionNs="com.redhat.devtools.lsp4ij">
        <!-- Language Server Definition -->
        <server id="supersql-lsp"
                name="SuperSQL Language Server"
                factoryClass="org.clabs.superdb.lsp.SuperSQLLanguageServerFactory">
            <description><![CDATA[
                SuperSQL language server providing intelligent code features for .spq files.

                Features:
                - Code completion
                - Go to definition
                - Find references
                - Hover documentation
                - Diagnostics (errors and warnings)
                - Code formatting
            ]]></description>
        </server>

        <!-- Map SuperSQL language to our LSP server -->
        <languageMapping language="SuperSQL"
                         serverId="supersql-lsp"/>

        <!-- File pattern mapping (backup if language mapping doesn't work) -->
        <fileTypeMapping patterns="*.spq"
                         serverId="supersql-lsp"/>
    </extensions>

    <!-- Application-level services -->
    <extensions defaultExtensionNs="com.intellij">
        <applicationService
                serviceImplementation="org.clabs.superdb.lsp.SuperSQLLspSettings"/>
    </extensions>
</idea-plugin>
